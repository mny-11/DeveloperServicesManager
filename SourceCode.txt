:menu
cls
echo =============@mny-11============
echo     Developer Services Manager
echo ================================
echo.
echo 1. Enable all Developer services
echo 2. Disable all Developer services
echo 3. Exit
echo.
set /p choice=Choose an option [1-3]:

if "%choice%"=="1" goto enable
if "%choice%"=="2" goto disable
if "%choice%"=="3" goto end
echo Invalid choice. Try again.
pause
goto menu

:enable
echo Enabling remote services...


dism /online /Enable-Feature /FeatureName:TelnetClient /NoRestart


dism /online /Enable-Feature /FeatureName:OpenSSH.Client /NoRestart
dism /online /Enable-Feature /FeatureName:OpenSSH.Server /NoRestart


dism /online /Enable-Feature /FeatureName:IIS-FTPServer /NoRestart
dism /online /Enable-Feature /FeatureName:IIS-ManagementConsole /NoRestart


reg add "HKLM\SYSTEM\CurrentControlSet\Control\Terminal Server" /v fDenyTSConnections /t REG_DWORD /d 0 /f
reg add "HKLM\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /v UserAuthentication /t REG_DWORD /d 1 /f


powershell -Command "Enable-PSRemoting -Force"

sc config sshd start=auto
sc start sshd


net start ftpsvc


netsh advfirewall firewall set rule group="remote desktop" new enable=yes
netsh advfirewall firewall add rule name="OpenSSH Server (sshd)" dir=in action=allow protocol=TCP localport=22
netsh advfirewall firewall set rule group="FTP Server" new enable=yes

echo.
echo All services enabled.
pause
goto menu


echo Disabling remote services...


dism /online /Disable-Feature /FeatureName:TelnetClient /NoRestart


dism /online /Disable-Feature /FeatureName:OpenSSH.Client /NoRestart
dism /online /Disable-Feature /FeatureName:OpenSSH.Server /NoRestart


dism /online /Disable-Feature /FeatureName:IIS-FTPServer /NoRestart
dism /online /Disable-Feature /FeatureName:IIS-ManagementConsole /NoRestart


reg add "HKLM\SYSTEM\CurrentControlSet\Control\Terminal Server" /v fDenyTSConnections /t REG_DWORD /d 1 /f


powershell -Command "Disable-PSRemoting -Force"


sc stop sshd
sc config sshd start=disabled


net stop ftpsvc


netsh advfirewall firewall set rule group="remote desktop" new enable=no
netsh advfirewall firewall delete rule name="OpenSSH Server (sshd)"
netsh advfirewall firewall set rule group="FTP Server" new enable=no

echo.
echo All services disabled.
pause
goto menu

:end
echo Exiting...
exit